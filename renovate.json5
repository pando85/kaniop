{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: ["config:recommended"],
  regexManagers: [
    {
      description: "Process custom dependencies in Rust",
      fileMatch: [".+\\.rs$"],
      matchStrings: [
        "//\\srenovate: datasource=(?<datasource>\\S+)( versioning=(?<versioning>\\S+))?\n.*?= \"(?<depName>\\S+):(?<currentValue>.*)\";\n",
      ],
      versioningTemplate: "{{#if versioning}}{{{versioning}}}{{else}}semver{{/if}}",
    },
    {
      description: "Process custom dependencies in Yaml",
      fileMatch: [".+\\.yaml$"],
      matchStrings: [
        "#\\srenovate: datasource=(?<datasource>\\S+)( versioning=(?<versioning>\\S+))?\n.*?: (?<depName>\\S+):(?<currentValue>.*)\n",
      ],
      versioningTemplate: "{{#if versioning}}{{{versioning}}}{{else}}semver{{/if}}",
    },

  ],
  packageRules: [
    {
      matchPackagePatterns: ".*",
      commitMessagePrefix: "build(deps): ",
    },
    {
      matchPackagePatterns: ".*",
      matchUpdateTypes: ["patch"],
      matchCurrentVersion: "!/^0/",
      automerge: true,
      automergeType: "pr",
      ignoreTests: false,
      platformAutomerge: true,
    },
    {
      matchPackageNames: ["kindest/node"],
      // allows only patch updates
      allowedVersions: "~",
    },
  ],
}
